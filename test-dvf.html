<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Commute Flow Mapping</title>

  <!--<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">-->

  <!--<link rel="stylesheet" href="libs/bootstrap-3.3.7/css/cyborg/bootstrap.min.css" >-->
  <!--<link rel="stylesheet" href="libs/bootstrap-3.3.7/css/darkly/bootstrap.min.css" >-->
  <link rel="stylesheet" href="libs/bootstrap-3.3.7/css/default/bootstrap.min.css" >
  <!--<link rel="stylesheet" href="libs/bootstrap-3.3.7/css/flatly/bootstrap.min.css" >-->
  <!--<link rel="stylesheet" href="libs/bootstrap-3.3.7/css/paper/bootstrap.min.css" >-->
  <!--<link rel="stylesheet" href="libs/bootstrap-3.3.7/css/simplex/bootstrap.min.css" >-->
  <!--<link rel="stylesheet" href="libs/bootstrap-3.3.7/css/slate/bootstrap.min.css" >-->
  <!--<link rel="stylesheet" href="libs/bootstrap-3.3.7/css/superhero/bootstrap.min.css" >-->
  <!--<link rel="stylesheet" href="libs/bootstrap-3.3.7/css/united/bootstrap.min.css" >-->
  <!--<link rel="stylesheet" href="libs/bootstrap-3.3.7/css/yeti/bootstrap.min.css" >-->

  <!--<link rel="stylesheet" href="libs/bootstrap-3.3.7/css/default/bootstrap-theme.min.css" >-->

  <link rel="stylesheet" href="libs/font-awesome-4.7.0/css/font-awesome.min.css" >

  <!--<link rel="stylesheet" href="libs/leaflet-0.7.7/leaflet.css" >-->
  <!--<link rel="stylesheet" href="libs/leaflet-1.0.0-rc.2/leaflet.css" >-->
  <!--<link rel="stylesheet" href="libs/leaflet-1.0.0-rc.3/leaflet.css" >-->
  <link rel="stylesheet" href="libs/leaflet-1.0.1/leaflet.css" >
  <!--<link rel="stylesheet" href="libs/leaflet-plugins/leaflet-dvf-0.3.0/css/dvf.css" >-->
  <!--<link rel="stylesheet" href="libs/leaflet-plugins/sidebar-v2-master/leaflet-sidebar.min.css" >-->
  <link rel="stylesheet" href="libs/leaflet-plugins/beautify-marker/leaflet-beautify-marker-icon.css" >

  <link rel="stylesheet" href="styles/test-dvf.css" >
  <link rel="stylesheet" href="styles/loader.css" >


  <script type="text/javascript" src="libs/jquery-2.1.4/jquery-2.1.4.min.js"></script>
  <!--<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>-->
  <script type="text/javascript" src="libs/bootstrap-3.3.7/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="libs/detect.js-2.2.2/detect.min.js"></script>

  <!--[if lt IE 9]>
    <script src="//cdn.jsdelivr.net/html5shiv/3.7.3/html5shiv.js"></script>
    <script src="//cdn.jsdelivr.net/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

   <script type="text/javascript" src="js/shared.js"></script>

</head>
<body>

  <div id="popup" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header bg-primary">
          <button type="button" class="close" style="opacity: 1.0;" data-dismiss="modal" aria-label="Close"><span aria-hidden="true" style="color:#fff;">&times;</span></button>
          <h4 id="popupHeader" class="modal-title"></h4>
        </div>
        <div id="popupBody" class="modal-body"></div>
        <div class="modal-footer bg-info">
          <button type="button" class="btn btn-primary" data-dismiss="modal" aria-label="OK"><b>OK</b></button>
        </div>
      </div>
    </div>
  </div>

  <div id="mapContainer" class="col-lg-9 col-md-8 col-sm-8 col-xs-8">

    <div id="spinnerVM" v-show="isVisible">
      <div class="showbox">
        <div class="loader">
          <svg class="circular" viewBox="25 25 50 50">
            <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="3" stroke-miterlimit="10"/>
          </svg>
        </div>
      </div>
    </div>

    <div id="statisticsInfoVM" v-show="isVisible">
      <!--<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">-->
      <div class="offer offer-danger">
        <div class="shape">
          <div class="shape-text">
            info
          </div>
        </div>
        <div class="offer-content">
          <h3 class="lead">
            Statistics
          </h3>
          <p>
            {{ msoa11Nm }}
            <br>
            {{ msoa11Nmw }}
          </p>

          <div class="btn-group" role="group">
            <div class="btn-group" role="group">
              <button id="verticalBarDiagramButton" type="button" class="btn btn-danger"
                      data-toggle="tooltip" data-placement="top" title="Show Vertical Bar Diagram"
                      v-bind:class="[currentDiagramType == ':verticalBar' ? 'active' : '']"
                      v-on:click="setCurrentDiagramType(':verticalBar')">
                <i class="fa fa-bar-chart" aria-hidden="true"></i>
              </button>
            </div>
            <div class="btn-group" role="group">
              <button id="horizontalBarDiagramButton" type="button" class="btn btn-danger"
                      data-toggle="tooltip" data-placement="top" title="Show Horizontal Bar Diagram"
                      v-bind:class="[currentDiagramType == ':horizontalBar' ? 'active' : '']"
                      v-on:click="setCurrentDiagramType(':horizontalBar')">
                <i class="fa fa-bar-chart fa-rotate-90" aria-hidden="true"></i>
              </button>
            </div>
            <div class="btn-group" role="group">
              <button id="doughnutDiagramButton" type="button" class="btn btn-danger"
                      data-toggle="tooltip" data-placement="top" title="Show Doughnut Diagram"
                      v-bind:class="[currentDiagramType == ':doughnut' ? 'active' : '']"
                      v-on:click="setCurrentDiagramType(':doughnut')">
                <i class="fa fa-pie-chart" aria-hidden="true"></i>
              </button>
            </div>
          </div>

          <div class="btn-group" role="group">
            <div class="btn-group" role="group">
              <button id="toggleMSOAScatterDiagramButton" type="button" class="btn btn-danger"
                      data-toggle="tooltip" data-placement="top" title="Show MSOA Scatter"
                      v-bind:class="[isMSOAScatterDiagramVisible == true ? 'active' : '']"
                      v-on:click="toggleMSOAScatterDiagram">
                <i class="fa fa-circle" aria-hidden="true"></i>
              </button>
            </div>
          </div>

          <div class="btn-group" role="group">
            <div class="btn-group" role="group">
              <button id="toggleMarkerLinesDiagramButton" type="button" class="btn btn-danger"
                      data-toggle="tooltip" data-placement="top" title="Show Descriptive Statistics lines"
                      v-bind:class="[isStatisticsMarkerLinesVisible == true ? 'active' : '']"
                      v-on:click="toggleStatisticsMarkerLines">
                <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
              </button>
            </div>
          </div>

        </div>

        <div id="dataDiagram" style="height: 340px;"></div>

      </div>
      <!--</div>-->
    </div>

    <div id="currentMsoaInfoVM" v-show="isVisible">
      <!--<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">-->
      <div class="offer offer-danger">
        <div class="shape">
          <div class="shape-text">
            info
          </div>
        </div>
        <div class="offer-content">
          <h3 class="lead" v-text="currentMsoaCode">

          </h3>
          <p>
            <span v-text="currentMsoa11Nm"></span>
            <br>
            <span v-text="currentMsoa11Nmw"></span>
          </p>
        </div>
      </div>
      <!--</div>-->
    </div>

    <div id='map'></div>
  </div>

  <div id="infoContainer" class="col-lg-3 col-md-4 col-sm-4 col-xs-4">

    <div>
      <strong>Select map type:</strong>

      <div id="toggleBaseMapButtonsVM"
           class="btn-group btn-group-justified" role="group">
        <div class="btn-group" role="group">
          <button id="darkButton" type="button" class="btn btn-danger"
                  v-bind:class="[currentBaseMap == 'dark' ? 'active' : '']" v-text="baseMapNames[0]"
                  v-on:click="setCurrentBaseMap('dark')">
          </button>
        </div>
        <div class="btn-group" role="group">
          <button id="lightButton" type="button" class="btn btn-danger"
                  v-bind:class="[currentBaseMap == 'light' ? 'active' : '']" v-text="baseMapNames[1]"
                  v-on:click="setCurrentBaseMap('light')">
          </button>
        </div>
        <div class="btn-group" role="group">
          <button id="roadsButton" type="button" class="btn btn-danger"
                  v-bind:class="[currentBaseMap == 'roads' ? 'active' : '']" v-text="baseMapNames[2]"
                  v-on:click="setCurrentBaseMap('roads')">
          </button>
        </div>
      </div>
    </div>

    <div class="cf-row">
      <strong>Show Commute Flows using:</strong>

      <div id="toggleCommuteFlowRenderingMethodButtonsVM" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" role="group">
          <button id="commuteFlowPolygonsRenderingButton" type="button" class="btn btn-danger"
                  v-bind:class="[method == ':cfPolygons' ? 'active' : '']"
                  v-on:click="setCommuteFlowRenderingMethod(':cfPolygons')">
            Polygons
          </button>
        </div>
        <!--<div class="btn-group" role="group">-->
        <!--<button id="commuteFlowPolygonsWithLinesRenderingButton" type="button" class="btn btn-danger"-->
        <!--v-bind:class="[method == ':cfPolygonsWithLines' ? 'active' : '']"-->
        <!--v-on:click="setCommuteFlowRenderingMethod(':cfPolygonsWithLines')">-->
        <!--Polygons and Lines-->
        <!--</button>-->
        <!--</div>-->
        <div class="btn-group" role="group">
          <button id="commuteFlowLinesRenderingButton" type="button" class="btn btn-danger"
                  v-bind:class="[method == ':cfLines' ? 'active' : '']"
                  v-on:click="setCommuteFlowRenderingMethod(':cfLines')">
            Lines
          </button>
        </div>
      </div>
    </div>

    <div class="cf-row">
      <strong>Select the type of flow:</strong>

      <div id="toggleRW2WRCommuteFlowsButtonsVM"
           class="btn-group btn-group-justified" role="group">
        <div class="btn-group" role="group">
          <button id="rwButton" type="button" class="btn btn-danger"
                  v-bind:class="[queryField == 'rc' ? 'active' : '']" v-on:click="setFilterArgument('rc')">
            Travel out to work
          </button>
        </div>
        <div class="btn-group" role="group">
          <button id="wrButton" type="button" class="btn btn-danger"
                  v-bind:class="[queryField == 'wc' ? 'active' : '']" v-on:click="setFilterArgument('wc')">
            Travel in to work
          </button>
        </div>
      </div>
    </div>

    <div id="groupSetContentVM" class="cf-row">

      <ul class="nav nav-tabs nav-justified" role="tablist">
        <!--<ul id="groupSetVisualization" class="nav nav-tabs nav-justified" role="tablist">-->
        <li role="presentation" class="active">
          <a id="superGroupsSet" href="#superGroupsTab" role="tab" data-toggle="tab" v-on:click="setGroupVisualization(true)">
            <strong>Super Groups</strong>
          </a>
        </li>
        <li role="presentation">
          <a id="groupsSet" href="#groupsTab" role="tab" data-toggle="tab" v-on:click="setGroupVisualization(false)">
            <strong>Groups</strong>
          </a>
        </li>
      </ul>

      <div id="groupSetVisualizationContent" class="tab-content">

        <div id="superGroupsTab" class="tab-pane fade active in" role="tabpanel">

          <div id="superGroupSetVisualizationTable" class="groups-table">
            <table class="table table-condensed table-striped">
              <tbody>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g1" value="1" checked v-model="checkedSuperGroups" v-on:change="renderCommuteFlows">
                </td>
                <td class="legend-narrow-td"><div class="legend-polygon-rect bc-g1"></div></td>
                <td><label for="g1" v-text="superGroups['1'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g2" value="2" checked  v-model="checkedSuperGroups" v-on:change="renderCommuteFlows">
                </td>
                <td class="legend-narrow-td"><div class="legend-polygon-rect bc-g2"></div></td>
                <td><label for="g2" v-text="superGroups['2'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g3" value="3" checked  v-model="checkedSuperGroups" v-on:change="renderCommuteFlows">
                </td>
                <td class="legend-narrow-td"><div class="legend-polygon-rect bc-g3"></div></td>
                <td><label for="g3" v-text="superGroups['3'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g4" value="4" checked  v-model="checkedSuperGroups" v-on:change="renderCommuteFlows">
                </td>
                <td class="legend-narrow-td"><div class="legend-polygon-rect bc-g4"></div></td>
                <td><label for="g4" v-text="superGroups['4'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g5" value="5" checked  v-model="checkedSuperGroups" v-on:change="renderCommuteFlows">
                </td>
                <td class="legend-narrow-td"><div class="legend-polygon-rect bc-g5"></div></td>
                <td><label for="g5" v-text="superGroups['5'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g6" value="6" checked  v-model="checkedSuperGroups" v-on:change="renderCommuteFlows">
                </td>
                <td class="legend-narrow-td"><div class="legend-polygon-rect bc-g6"></div></td>
                <td><label for="g6" v-text="superGroups['6'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g7" value="7" checked  v-model="checkedSuperGroups" v-on:change="renderCommuteFlows">
                </td>
                <td class="legend-narrow-td"><div class="legend-polygon-rect bc-g7"></div></td>
                <td><label for="g7" v-text="superGroups['7'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g8" value="8" checked  v-model="checkedSuperGroups" v-on:change="renderCommuteFlows">
                </td>
                <td class="legend-narrow-td"><div class="legend-polygon-rect bc-g8"></div></td>
                <td><label for="g8" v-text="superGroups['8'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g9" value="9" checked  v-model="checkedSuperGroups" v-on:change="renderCommuteFlows">
                </td>
                <td class="legend-narrow-td"><div class="legend-polygon-rect bc-g9"></div></td>
                <td><label for="g9" v-text="superGroups['9'].name"></label>
              </tr>
              </tbody>
            </table>
          </div>

        </div>

        <div id="groupsTab" class="tab-pane fade" role="tabpanel">

          <div id="groupSetVisualizationTable" class="groups-table">
            <table class="table table-condensed table-striped">
              <tbody>

              <tr>
                <th class="legend-narrow-td"><div class="legend-polygon-rect bc-g1"></div></th>
                <th><a href="#" v-on:click="toggleGroupSet(1)" v-text="superGroups['1'].name"></a></th>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g11" value="11" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g11" v-text="groups['11'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g12" value="12" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g12" v-text="groups['12'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g13" value="13" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g13" v-text="groups['13'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g14" value="14" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g14" v-text="groups['14'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g15" value="15" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g15" v-text="groups['15'].name"></label>
              </tr>

              <tr>
                <th class="legend-narrow-td"><div class="legend-polygon-rect bc-g2"></div></th>
                <th><a href="#" v-on:click="toggleGroupSet(2)" v-text="superGroups['2'].name"></a></th>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g21" value="21" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g21" v-text="groups['21'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g22" value="22" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g22" v-text="groups['22'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g23" value="23" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g23" v-text="groups['23'].name"></label>
              </tr>

              <tr>
                <th class="legend-narrow-td"><div class="legend-polygon-rect bc-g3"></div></th>
                <th><a href="#" v-on:click="toggleGroupSet(3)" v-text="superGroups['3'].name"></a></th>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g31" value="31" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g31" v-text="groups['31'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g32" value="32" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g32" v-text="groups['32'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g33" value="33" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g33" v-text="groups['33'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g34" value="34" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g34" v-text="groups['34'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g35" value="35" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g35" v-text="groups['35'].name"></label>
              </tr>

              <tr>
                <th class="legend-narrow-td"><div class="legend-polygon-rect bc-g4"></div></th>
                <th><a href="#" v-on:click="toggleGroupSet(4)" v-text="superGroups['4'].name"></a></th>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g41" value="41" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g41" v-text="groups['41'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g42" value="42" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g42" v-text="groups['42'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g43" value="43" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g43" v-text="groups['43'].name"></label>
              </tr>

              <tr>
                <th class="legend-narrow-td"><div class="legend-polygon-rect bc-g5"></div></th>
                <th><a href="#" v-on:click="toggleGroupSet(5)" v-text="superGroups['5'].name"></a></th>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g51" value="51" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g51" v-text="groups['51'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g52" value="52" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g52" v-text="groups['52'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g53" value="53" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g53" v-text="groups['53'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g54" value="54" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g54" v-text="groups['54'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g55" value="55" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g55" v-text="groups['55'].name"></label>
              </tr>

              <tr>
                <th class="legend-narrow-td"><div class="legend-polygon-rect bc-g6"></div></th>
                <th><a href="#" v-on:click="toggleGroupSet(6)" v-text="superGroups['6'].name"></a></th>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g61" value="61" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g61" v-text="groups['61'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g62" value="62" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g62" v-text="groups['62'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g63" value="63" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g63" v-text="groups['63'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g64" value="64" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g64" v-text="groups['64'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g65" value="65" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g65" v-text="groups['65'].name"></label>
              </tr>

              <tr>
                <th class="legend-narrow-td"><div class="legend-polygon-rect bc-g7"></div></th>
                <th><a href="#" v-on:click="toggleGroupSet(7)" v-text="superGroups['7'].name"></a></th>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g71" value="71" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g71" v-text="groups['71'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g72" value="72" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g72" v-text="groups['72'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g73" value="73" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g73" v-text="groups['73'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g74" value="74" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g74" v-text="groups['74'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g75" value="75" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g75" v-text="groups['75'].name"></label>
              </tr>

              <tr>
                <th class="legend-narrow-td"><div class="legend-polygon-rect bc-g8"></div></th>
                <th><a href="#" v-on:click="toggleGroupSet(8)" v-text="superGroups['8'].name"></a></th>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g81" value="81" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g81" v-text="groups['81'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g82" value="82" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g82" v-text="groups['82'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g83" value="83" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g83" v-text="groups['83'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g84" value="84" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g84" v-text="groups['84'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g85" value="85" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g85" v-text="groups['85'].name"></label>
              </tr>

              <tr>
                <th class="legend-narrow-td"><div class="legend-polygon-rect bc-g9"></div></th>
                <th><a href="#" v-on:click="toggleGroupSet(9)" v-text="superGroups['9'].name"></a></th>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g91" value="91" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g91" v-text="groups['91'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g92" value="92" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g92" v-text="groups['92'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g93" value="93" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g93" v-text="groups['93'].name"></label>
              </tr>
              <tr>
                <td class="legend-narrow-td">
                  <input type="checkbox" id="g94" value="94" checked  v-model="checkedGroups" v-on:change="renderCommuteFlows">
                </td>
                <td><label for="g94" v-text="groups['94'].name"></label>
              </tr>

              </tbody>
            </table>
          </div>

        </div>

      </div>

      <div class="btn-group btn-group-justified" role="group">
        <div class="btn-group" role="group">
          <button type="button" class="btn btn-danger" v-on:click="selectAll">Select All</button>
        </div>
        <div class="btn-group" role="group">
          <button type="button" class="btn btn-danger" v-on:click="deselectAll">Deselect All</button>
        </div>
      </div>

    </div>

    <br>


    <br>

    <!--<div id="currentMsoaInfoVM">-->
      <!--&lt;!&ndash;<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">&ndash;&gt;-->
      <!--<div class="offer offer-default">-->
        <!--<div class="shape">-->
          <!--<div class="shape-text">-->
            <!--info-->
          <!--</div>-->
        <!--</div>-->
        <!--<div class="offer-content">-->
          <!--<h3 class="lead" v-text="currentMsoaCode">-->

          <!--</h3>-->
          <!--<p>-->
            <!--<span v-text="currentMsoa11Nm"></span>-->
            <!--<br>-->
            <!--<span v-text="currentMsoa11Nmw"></span>-->
          <!--</p>-->
        <!--</div>-->
      <!--</div>-->
      <!--&lt;!&ndash;</div>&ndash;&gt;-->
    <!--</div>-->

  </div>


  <!--<script type="text/javascript" src="libs/proj4js-2.3.12/proj4.js"></script>-->

  <!--<script type="text/javascript" src="libs/terraformer-1.0.4/terraformer-1.0.4.min.js"></script>-->
  <!--<script type="text/javascript" src="libs/terraformer-wkt-parser-1.0.0/terraformer-wkt-parser.min.js"></script>-->

  <!--<script type="text/javascript" src="libs/requirejs-2.3.2/require.js"></script>-->
  <!--<script type="text/javascript" src="libs/requirejs-2.3.2/require.min.js"></script>-->

  <script type="text/javascript" src="libs/vue-1.0.26/vue.js"></script>
  <!--<script type="text/javascript" src="libs/vue-1.0.26/vue.min.js"></script>-->
  <!--<script type="text/javascript" src="libs/jsts-1.2.1/jsts.min.js"></script>-->

  <!--<script type="text/javascript" src="libs/echarts-3.2.3/echarts.common.js"></script>-->
  <!--<script type="text/javascript" src="libs/echarts-3.2.3/echarts.common.min.js"></script>-->
  <!--<script type="text/javascript" src="libs/echarts-3.2.3/echarts.js"></script>-->
  <script type="text/javascript" src="libs/echarts-3.2.3/echarts.min.js"></script>
  <!--<script type="text/javascript" src="libs/echarts-3.2.3/echarts.simple.js"></script>-->
  <!--<script type="text/javascript" src="libs/echarts-3.2.3/echarts.simple.min.js"></script>-->

  <!--<script type="text/javascript" src="libs/leaflet-0.7.7/leaflet.js"></script>-->
  <!--<script type="text/javascript" src="libs/leaflet-0.7.7/leaflet-src.js"></script>-->
  <!--<script type="text/javascript" src="libs/leaflet-1.0.0-rc.2/leaflet.js"></script>-->
  <!--<script type="text/javascript" src="libs/leaflet-1.0.0-rc.2/leaflet-src.js"></script>-->
  <!--<script type="text/javascript" src="libs/leaflet-1.0.0-rc.3/leaflet.js"></script>-->
  <!--<script type="text/javascript" src="libs/leaflet-1.0.0-rc.3/leaflet-src.js"></script>-->
  <script type="text/javascript" src="libs/leaflet-1.0.1/leaflet.js"></script>
  <!--<script type="text/javascript" src="libs/leaflet-1.0.1/leaflet-src.js"></script>-->
  <!--<script type="text/javascript" src="libs/leaflet-plugins/leaflet-grayscale/TileLayer.Grayscale.js"></script>-->
  <!--<script type="text/javascript" src="libs/leaflet-plugins/leaflet-tilefilter-1.0dev/leaflet-tilefilter.js"></script>-->
  <!--<script type="text/javascript" src="libs/leaflet-plugins/leaflet-tilefilter-1.0dev/leaflet-tilefilter-min.js"></script>-->
  <script type="text/javascript" src="libs/leaflet-plugins/leaflet-providers-1.1.15/leaflet-providers.js"></script>
  <!--<script type="text/javascript" src="libs/leaflet-plugins/leaflet-providers-1.1.15/leaflet-providers-modified.js"></script>-->
  <!--<script type="text/javascript" src="libs/leaflet-plugins/leaflet-dvf-0.3.0/leaflet-dvf.js"></script>-->
  <!--<script type="text/javascript" src="libs/leaflet-dvf-0.3.0/leaflet-dvf.min.js"></script>-->
  <!--<script type="text/javascript" src="libs/leaflet-dvf-0.3.0/leaflet-dvf.markers.js"></script>-->
  <!--<script type="text/javascript" src="libs/leaflet-dvf-0.3.0/leaflet-dvf.markers.min.js"></script>-->
  <script type="text/javascript" src="libs/leaflet-plugins/beautify-marker/leaflet-beautify-marker-icon.js"></script>
  <script type="text/javascript" src="libs/leaflet-plugins/beautify-marker/leaflet-beautify-marker.js"></script>

  <!--<script type="text/javascript" src="libs/lea                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        Spatial.mapLayers.MSOAs.mapLayer.setStyle(layer.defaultOptions.style);flet-plugins/sidebar-v2-master/leaflet-sidebar.min.js"></script>-->
  <!--<script type="text/javascript" src="libs/leaflet-plugins/proj4leaflet-0.7.2/proj4leaflet.js"></script>-->

  <!--<script type="text/javascript" src="libs/javascript.util-0.12.12/javascript.util.min.js"></script>-->
  <!--<script type="text/javascript" src="libs/jsts/jsts.js"></script>-->

  <!--<script type="text/javascript" src="http://maps.stamen.com/js/tile.stamen.js?v1.2.4"></script>-->

  <script type="text/javascript" src="libs/ps-math-stats/ps-math-stats.min.js"></script>

  <!--<script src="js/msoa-qc-epsg-4326.js" ></script>-->
  <!--<script src="js/msoa-qc-epsg-4326-050.js" ></script>-->
  <!--<script src="js/msoa-qc-epsg-4326-100.js" ></script>-->
  <!--<script src="js/msoa-qc-epsg-4326-250.js" ></script>-->
  <script src="js/msoa-qc-epsg-4326-500.js" ></script>
  <!--<script src="js/msoa-pwc-epsg-4326.js" ></script>-->
  <script src="js/commute-flow-thin-points-epsg-4326.js" ></script>
  <script src="js/test-dvf.js" ></script>

</body>
</html>
